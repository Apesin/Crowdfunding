
        var a = document.getElementById("info");
        var campaign_count = document.getElementById("on-going-campaigns-count");
        var response = document.getElementById("response");

        async function loadWeb3() {
            if (window.ethereum) {
                window.web3 = new Web3(window.ethereum);
                window.ethereum.enable();
            }
        }

         async function loadContract() {
            // set ABI
            var abi =   [{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"succees","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getTotalCampaigns","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"balances","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"allowed","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"},{"name":"_cont","type":"address"}],"name":"withdrawFunds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"fundCampaign","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"closeCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignTitle","type":"string"},{"name":"_campaignDescription","type":"string"},{"name":"_goalAmount","type":"uint256"},{"name":"_fundingPeriodInDays","type":"uint256"},{"name":"_campaignImage","type":"string"},{"name":"_campaignOwnerEmail","type":"string"},{"name":"_thankYouMessage","type":"string"}],"name":"createCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"},{"name":"_cont","type":"address"}],"name":"claimRefund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getContributions","outputs":[{"name":"contribution","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getCampaignDetails","outputs":[{"name":"campaignID","type":"uint256"},{"name":"name","type":"string"},{"name":"description","type":"string"},{"name":"image","type":"string"},{"name":"goal","type":"uint256"},{"name":"totalAmountFunded","type":"uint256"},{"name":"deadline","type":"uint256"},{"name":"cOwner","type":"address"},{"name":"contributors","type":"uint256"},{"name":"thankYouMessage","type":"string"},{"name":"isCampaignOpen","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_spender","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Approval","type":"event"}];
            //[{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"succees","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getTotalCampaigns","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"balances","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"allowed","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"},{"name":"_cont","type":"address"}],"name":"withdrawFunds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"fundCampaign","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"closeCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignTitle","type":"string"},{"name":"_campaignDescription","type":"string"},{"name":"_goalAmount","type":"uint256"},{"name":"_fundingPeriodInDays","type":"uint256"},{"name":"_campaignImage","type":"string"},{"name":"_campaignOwnerEmail","type":"string"},{"name":"_thankYouMessage","type":"string"}],"name":"createCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"},{"name":"_cont","type":"address"}],"name":"claimRefund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getContributions","outputs":[{"name":"contribution","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getCampaignDetails","outputs":[{"name":"campaignID","type":"uint256"},{"name":"name","type":"string"},{"name":"description","type":"string"},{"name":"image","type":"string"},{"name":"goal","type":"uint256"},{"name":"totalAmountFunded","type":"uint256"},{"name":"deadline","type":"uint256"},{"name":"cOwner","type":"address"},{"name":"contributors","type":"uint256"},{"name":"thankYouMessage","type":"string"},{"name":"isCampaignOpen","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_spender","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Approval","type":"event"}];
            //[{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"succees","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getTotalCampaigns","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"balances","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"allowed","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"},{"name":"_cont","type":"address"}],"name":"withdrawFunds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"fundCampaign","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"closeCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignTitle","type":"string"},{"name":"_campaignDescription","type":"string"},{"name":"_goalAmount","type":"uint256"},{"name":"_fundingPeriodInDays","type":"uint256"},{"name":"_campaignImage","type":"string"},{"name":"_campaignOwnerEmail","type":"string"},{"name":"_thankYouMessage","type":"string"}],"name":"createCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"},{"name":"_cont","type":"address"}],"name":"claimRefund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getContributions","outputs":[{"name":"contribution","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getCampaignDetails","outputs":[{"name":"campaignID","type":"uint256"},{"name":"name","type":"string"},{"name":"description","type":"string"},{"name":"image","type":"string"},{"name":"goal","type":"uint256"},{"name":"totalAmountFunded","type":"uint256"},{"name":"deadline","type":"uint256"},{"name":"cOwner","type":"address"},{"name":"contributors","type":"uint256"},{"name":"thankYouMessage","type":"string"},{"name":"isCampaignOpen","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_spender","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Approval","type":"event"}];
            //[{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"succees","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getTotalCampaigns","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"balances","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"allowed","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"},{"name":"_cont","type":"address"}],"name":"withdrawFunds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"fundCampaign","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"closeCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignTitle","type":"string"},{"name":"_campaignDescription","type":"string"},{"name":"_goalAmount","type":"uint256"},{"name":"_fundingPeriodInDays","type":"uint256"},{"name":"_campaignImage","type":"string"},{"name":"_campaignOwnerEmail","type":"string"},{"name":"_thankYouMessage","type":"string"}],"name":"createCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"},{"name":"_cont","type":"address"}],"name":"claimRefund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getContributions","outputs":[{"name":"contribution","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getCampaignDetails","outputs":[{"name":"campaignID","type":"uint256"},{"name":"name","type":"string"},{"name":"description","type":"string"},{"name":"image","type":"string"},{"name":"goal","type":"uint256"},{"name":"totalAmountFunded","type":"uint256"},{"name":"deadline","type":"uint256"},{"name":"cOwner","type":"address"},{"name":"contributors","type":"uint256"},{"name":"thankYouMessage","type":"string"},{"name":"isCampaignOpen","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_spender","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Approval","type":"event"}]; 
            //[{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"succees","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getTotalCampaigns","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"balances","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"allowed","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"},{"name":"_cont","type":"address"}],"name":"withdrawFunds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"fundCampaign","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"closeCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignTitle","type":"string"},{"name":"_campaignDescription","type":"string"},{"name":"_goalAmount","type":"uint256"},{"name":"_fundingPeriodInDays","type":"uint256"},{"name":"_campaignImage","type":"string"},{"name":"_campaignOwnerEmail","type":"string"},{"name":"_thankYouMessage","type":"string"}],"name":"createCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"},{"name":"_cont","type":"address"}],"name":"claimRefund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getContributions","outputs":[{"name":"contribution","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getCampaignDetails","outputs":[{"name":"campaignID","type":"uint256"},{"name":"name","type":"string"},{"name":"description","type":"string"},{"name":"image","type":"string"},{"name":"goal","type":"uint256"},{"name":"totalAmountFunded","type":"uint256"},{"name":"deadline","type":"uint256"},{"name":"cOwner","type":"address"},{"name":"contributors","type":"uint256"},{"name":"thankYouMessage","type":"string"},{"name":"isCampaignOpen","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_spender","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Approval","type":"event"}]; 
            //[{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"succees","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getTotalCampaigns","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"balances","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"claimRefund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"allowed","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"},{"name":"_cont","type":"address"}],"name":"withdrawFunds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"fundCampaign","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"closeCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignTitle","type":"string"},{"name":"_campaignDescription","type":"string"},{"name":"_goalAmount","type":"uint256"},{"name":"_fundingPeriodInDays","type":"uint256"},{"name":"_campaignImage","type":"string"},{"name":"_campaignOwnerEmail","type":"string"},{"name":"_thankYouMessage","type":"string"}],"name":"createCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getContributions","outputs":[{"name":"contribution","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getCampaignDetails","outputs":[{"name":"campaignID","type":"uint256"},{"name":"name","type":"string"},{"name":"description","type":"string"},{"name":"image","type":"string"},{"name":"goal","type":"uint256"},{"name":"totalAmountFunded","type":"uint256"},{"name":"deadline","type":"uint256"},{"name":"cOwner","type":"address"},{"name":"contributors","type":"uint256"},{"name":"thankYouMessage","type":"string"},{"name":"isCampaignOpen","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_spender","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Approval","type":"event"}];
            //[{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"succees","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getTotalCampaigns","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"balances","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"claimRefund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"allowed","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"},{"name":"_cont","type":"address"}],"name":"withdrawFunds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"fundCampaign","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"closeCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignTitle","type":"string"},{"name":"_campaignDescription","type":"string"},{"name":"_goalAmount","type":"uint256"},{"name":"_fundingPeriodInDays","type":"uint256"},{"name":"_campaignImage","type":"string"},{"name":"_campaignOwnerEmail","type":"string"},{"name":"_thankYouMessage","type":"string"}],"name":"createCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getContributions","outputs":[{"name":"contribution","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getCampaignDetails","outputs":[{"name":"campaignID","type":"uint256"},{"name":"name","type":"string"},{"name":"description","type":"string"},{"name":"image","type":"string"},{"name":"goal","type":"uint256"},{"name":"totalAmountFunded","type":"uint256"},{"name":"deadline","type":"uint256"},{"name":"cOwner","type":"address"},{"name":"contributors","type":"uint256"},{"name":"thankYouMessage","type":"string"},{"name":"isCampaignOpen","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_spender","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Approval","type":"event"}];
            //[{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"succees","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"withdrawFunds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getTotalCampaigns","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"balances","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"claimRefund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"allowed","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"fundCampaign","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"closeCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignTitle","type":"string"},{"name":"_campaignDescription","type":"string"},{"name":"_goalAmount","type":"uint256"},{"name":"_fundingPeriodInDays","type":"uint256"},{"name":"_campaignImage","type":"string"},{"name":"_campaignOwnerEmail","type":"string"},{"name":"_thankYouMessage","type":"string"}],"name":"createCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getContributions","outputs":[{"name":"contribution","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getCampaignDetails","outputs":[{"name":"campaignID","type":"uint256"},{"name":"name","type":"string"},{"name":"description","type":"string"},{"name":"image","type":"string"},{"name":"goal","type":"uint256"},{"name":"totalAmountFunded","type":"uint256"},{"name":"deadline","type":"uint256"},{"name":"cOwner","type":"address"},{"name":"contributors","type":"uint256"},{"name":"thankYouMessage","type":"string"},{"name":"isCampaignOpen","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_spender","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Approval","type":"event"}];//[{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"withdrawFunds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getTotalCampaigns","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"claimRefund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"fundCampaign","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"closeCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignTitle","type":"string"},{"name":"_campaignDescription","type":"string"},{"name":"_goalAmount","type":"uint256"},{"name":"_fundingPeriodInDays","type":"uint256"},{"name":"_campaignImage","type":"string"},{"name":"_campaignOwnerEmail","type":"string"},{"name":"_thankYouMessage","type":"string"}],"name":"createCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getContributions","outputs":[{"name":"contribution","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getCampaignDetails","outputs":[{"name":"campaignID","type":"uint256"},{"name":"name","type":"string"},{"name":"description","type":"string"},{"name":"image","type":"string"},{"name":"goal","type":"uint256"},{"name":"totalAmountFunded","type":"uint256"},{"name":"deadline","type":"uint256"},{"name":"cOwner","type":"address"},{"name":"contributors","type":"uint256"},{"name":"thankYouMessage","type":"string"},{"name":"isCampaignOpen","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"}];//[{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"withdrawFunds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getTotalCampaigns","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"claimRefund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"fundCampaign","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"closeCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignTitle","type":"string"},{"name":"_campaignDescription","type":"string"},{"name":"_goalAmount","type":"uint256"},{"name":"_fundingPeriodInDays","type":"uint256"},{"name":"_campaignImage","type":"string"},{"name":"_campaignOwnerEmail","type":"string"},{"name":"_thankYouMessage","type":"string"}],"name":"createCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getContributions","outputs":[{"name":"contribution","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getCampaignDetails","outputs":[{"name":"campaignID","type":"uint256"},{"name":"name","type":"string"},{"name":"description","type":"string"},{"name":"image","type":"string"},{"name":"goal","type":"uint256"},{"name":"totalAmountFunded","type":"uint256"},{"name":"deadline","type":"uint256"},{"name":"cOwner","type":"address"},{"name":"contributors","type":"uint256"},{"name":"thankYouMessage","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"}]; //[{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"withdrawFunds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getTotalCampaigns","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"claimRefund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"fundCampaign","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"closeCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignTitle","type":"string"},{"name":"_campaignDescription","type":"string"},{"name":"_goalAmount","type":"uint256"},{"name":"_fundingPeriodInDays","type":"uint256"},{"name":"_campaignImage","type":"string"},{"name":"_campaignOwnerEmail","type":"string"},{"name":"_thankYouMessage","type":"string"}],"name":"createCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getContributions","outputs":[{"name":"contribution","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getCampaignDetails","outputs":[{"name":"campaignID","type":"uint256"},{"name":"name","type":"string"},{"name":"description","type":"string"},{"name":"image","type":"string"},{"name":"goal","type":"uint256"},{"name":"totalAmountFunded","type":"uint256"},{"name":"deadline","type":"uint256"},{"name":"cOwner","type":"address"},{"name":"contributors","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"}]; //[{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"withdrawFunds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getTotalCampaigns","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"claimRefund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"fundCampaign","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"closeCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignTitle","type":"string"},{"name":"_campaignDescription","type":"string"},{"name":"_goalAmount","type":"uint256"},{"name":"_fundingPeriodInDays","type":"uint256"},{"name":"_campaignImage","type":"string"},{"name":"_campaignOwnerEmail","type":"string"},{"name":"_thankYouMessage","type":"string"}],"name":"createCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getContributions","outputs":[{"name":"contribution","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getCampaignDetails","outputs":[{"name":"campaignID","type":"uint256"},{"name":"name","type":"string"},{"name":"description","type":"string"},{"name":"image","type":"string"},{"name":"goal","type":"uint256"},{"name":"totalAmountFunded","type":"uint256"},{"name":"deadline","type":"uint256"},{"name":"cOwner","type":"address"},{"name":"contributors","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"}];
            //[{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"withdrawFunds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getTotalCampaigns","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"claimRefund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"fundCampaign","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"closeCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getContributions","outputs":[{"name":"contribution","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignTitle","type":"string"},{"name":"_campaignDescription","type":"string"},{"name":"_goalAmount","type":"uint256"},{"name":"_fundingPeriodInDays","type":"uint256"},{"name":"_campaignImage","type":"string"}],"name":"createCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getCampaignDetails","outputs":[{"name":"campaignID","type":"uint256"},{"name":"name","type":"string"},{"name":"description","type":"string"},{"name":"image","type":"string"},{"name":"goal","type":"uint256"},{"name":"totalAmountFunded","type":"uint256"},{"name":"deadline","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"}];
             //[{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"withdrawFunds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getTotalCampaigns","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"claimRefund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"fundCampaign","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignTitle","type":"string"},{"name":"_campaignDescription","type":"string"},{"name":"_goalAmount","type":"uint256"},{"name":"_fundingPeriodInDays","type":"uint256"}],"name":"createCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"closeCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getContributions","outputs":[{"name":"contribution","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getCampaignDetails","outputs":[{"name":"campaignID","type":"uint256"},{"name":"name","type":"string"},{"name":"description","type":"string"},{"name":"goal","type":"uint256"},{"name":"totalAmountFunded","type":"uint256"},{"name":"deadline","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"}];

            //set contract address
            var contractAddress =    '0x4B836DF1cEE624E8062E53803Bbb8322dDEeaA1F'; //'0x69cdD9b8108b76482E28e6b82A6aa6fEf10DF538'; //'0x179E5614ba0e8e101c7325dCde23792c41dF79ac';//'0x7DE872F8940Ee2dE1E4e8e0c4f45cEc8a7703C92';//'0xE8fb1dEe72dB3C3E1810e5fCA95c80Fca186B7aD';//'0xFB80d60257f41f176EA68be348A8bC056bA9E743';  //'0xd81364e985Ff2848Ddb835Ba7528602754258071';//'0xfE9724EC2Dc0A27dc4A0C5ADE4aaa5E74A4A38c4'; //'0x0d33fA05f13f40DD8062E7d88af294801eCcfc43'; 

            return await new window.web3.eth.Contract(abi,contractAddress);
        }

        async function getContributions() {
            updateStatus('fetching all Campaigns.');
            //const tweetsNumber = await window.contract.methods.getTotalTweet().call();
            
            for (i = 1;i < 10;i++){
                var result = await window.contract.methods.getContributions(i).call();
                if (result == 3963877391197344453575983046348115674221700746820753546331534351508065746944) {
                    a.innerHTML = a.innerHTML+"<h5>CampaignID "+i +"does not exist</h5>";
                }else{
                    a.innerHTML = a.innerHTML+"<h5>" + "CampaingID: "+i + "Amount Contributed: "+result[0];
                }
                updateStatus('Done');
            }
           
        }


        async function getTotalCampaigns(){
            var result = await window.contract.methods.getTotalCampaigns().call();
            campaigns_count.innerHTML = campaigns_count.innerHTML+"<h5> Total Campaigns: "+result;
            updateStatus('gotten');
        }

        async function getCont(){
            var i = 1;
            var result = await window.contract.methods.getContributions(i).call();
                if (result == 3963877391197344453575983046348115674221700746820753546331534351508065746944) {
                    a.innerHTML = a.innerHTML+"<h5>CampaignID "+i +"does not exist</h5>";
                }else{
                    a.innerHTML = a.innerHTML+"<h5>" + "CampaingID: "+i + "Amount Contributed: "+result;
                }
                updateStatus('Done');
        }

        async function formatDate(unixtimestamp){
                var theDate = new Date(unixtimestamp * 1000);
                    dateString = theDate.toGMTString();
                    //return dateString;
                    alert(dateString );
        }

        async function getCurrentAccount() {
            const accounts = await window.web3.eth.getAccounts();
            return accounts[0];
        }

        async function getCampaignDetails(){
            var i = document.getElementById("fund").value;
            var result = await window.contract.methods.getCampaignDetails(i).call();
                    a.innerHTML = a.innerHTML+"<h5>" + "CampaingID: "+i + "Amount Contributed: "+result[0] + result[1] + result[2] + result[3] + result[4] + result[5];
                    formatDate(result[5]);
                updateStatus('Done');
        }


        async function createCampaign(){
    var url = "uploadImage.php";

var form = $('#campaign_form')[0];
var formData = new FormData(form);
var campaign_title = $('#campaign-title').val();
            var campaign_desc = $('#campaign-desc').val();
            var campaign_banner = $('#campaign-banner').val();
            var campaign_goal = $('#campaign-goal').val();
            var campaign_duration = $('#campaign-duration').val();
            var campaign_owner_email = $('#campaign-owner-email').val();
            var thankYouMessage = $('#thankYouMessage').val();

            if (campaign_title != "" && campaign_desc != "" && campaign_banner !="" && campaign_duration != "" && campaign_goal !="" && campaign_owner_email !="" && thankYouMessage !="") {
            
$.ajax(url, {
    method: 'post',
    processData: false,
    contentType: false,
    data: formData
}).done(function(data){
    if (data != "error"){ 
       create(data);
    } else {
        
        response.innerHTML = response.innerHTML+'<div class="alert alert-danger" role="alert">'+
                                data+
                            '</div>';
    }
}).fail(function(data){
    console.log(data);
   
});
        }
        else{
            
            response.innerHTML = response.innerHTML+'<div class="alert alert-danger" role="alert">'+
                                'All fields are required.'+
                            '</div>';

        }}

        async function create(data) {

            var campaign_title = $('#campaign-title').val();
            var campaign_desc = $('#campaign-desc').val();
            var campaign_banner = $('#campaign-banner').val();
            var campaign_goal = $('#campaign-goal').val();
            var campaign_duration = $('#campaign-duration').val();
            var campaign_owner_email = $('#campaign-owner-email').val();
            var thankYouMessage = $('#thankYouMessage').val();


            if (campaign_title == "" && campaign_desc == "" && campaign_banner =="" && campaign_duration == "" && campaign_goal =="" && campaign_owner_email =="" && thankYouMessage =="") {
                
            response.innerHTML = response.innerHTML+'<div class="alert alert-danger" role="alert">'+
                                'All fields are required.'+
                            '</div>';
            }else{
                response.innerHTML = response.innerHTML+'<div class="alert alert-primary" role="alert">'+
                               'Creating Campaign.'+
                            '</div>';
                                document.getElementById('createButton').style.display = "none";
            const account = await getCurrentAccount();
            const coolNumber = await window.contract.methods.createCampaign(document.getElementById("campaign-title").value,document.getElementById("campaign-desc").value,document.getElementById("campaign-goal").value,document.getElementById("campaign-duration").value,data, document.getElementById("campaign-owner-email").value,document.getElementById("thankYouMessage").value).send({ from: account });
            response.innerHTML = response.innerHTML+'<div class="alert alert-success" role="alert">'+
                                'Success.'+
                            '</div>';
                $('#campaign-title').val('');
            $('#campaign-desc').val('');
            $('#campaign-banner').val('');
            $('#campaign-goal').val('');
            $('#campaign-duration').val('');
            $('#campaign-owner-email').val('');
            $('#thankYouMessage').val('');
            window.location = "index.html";
            }
        }

        async function fundCampaign(){
            updateStatus(`Funding campaign ...`);
            const account = await getCurrentAccount();
            const coolNumber = await window.contract.methods.fundCampaign(document.getElementById("fund").value).send({ from: account, gas: 3000000, value: 100 });
            response.innerHTML = response.innerHTML+'<div class="alert alert-success" role="alert">'+
                                'Success.'+
                            '</div>';
        }

        async function load() {
            await loadWeb3();
            window.contract = await loadContract();
            
        }

        function updateStatus(status) {
            const statusEl = document.getElementById('status');
            statusEl.innerHTML = status;
            console.log(status);
        }

        load();
