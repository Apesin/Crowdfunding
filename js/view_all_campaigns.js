var concluded_campaigns = document.getElementById('concludedCampaigns');
var active_campaigns = document.getElementById('active_campaigns');

        async function loadWeb3() {
            if (window.ethereum) {
                window.web3 = new Web3(window.ethereum);
                window.ethereum.enable();
            }
        }
async function loadContract() {
            // set ABI
            var abi =   [{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"succees","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getTotalCampaigns","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"balances","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"allowed","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"},{"name":"_cont","type":"address"}],"name":"withdrawFunds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"fundCampaign","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"closeCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignTitle","type":"string"},{"name":"_campaignDescription","type":"string"},{"name":"_goalAmount","type":"uint256"},{"name":"_fundingPeriodInDays","type":"uint256"},{"name":"_campaignImage","type":"string"},{"name":"_campaignOwnerEmail","type":"string"},{"name":"_thankYouMessage","type":"string"}],"name":"createCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"},{"name":"_cont","type":"address"}],"name":"claimRefund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getContributions","outputs":[{"name":"contribution","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getCampaignDetails","outputs":[{"name":"campaignID","type":"uint256"},{"name":"name","type":"string"},{"name":"description","type":"string"},{"name":"image","type":"string"},{"name":"goal","type":"uint256"},{"name":"totalAmountFunded","type":"uint256"},{"name":"deadline","type":"uint256"},{"name":"cOwner","type":"address"},{"name":"contributors","type":"uint256"},{"name":"thankYouMessage","type":"string"},{"name":"isCampaignOpen","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_spender","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Approval","type":"event"}];
            //[{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"succees","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getTotalCampaigns","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"balances","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"allowed","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"},{"name":"_cont","type":"address"}],"name":"withdrawFunds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"fundCampaign","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"closeCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignTitle","type":"string"},{"name":"_campaignDescription","type":"string"},{"name":"_goalAmount","type":"uint256"},{"name":"_fundingPeriodInDays","type":"uint256"},{"name":"_campaignImage","type":"string"},{"name":"_campaignOwnerEmail","type":"string"},{"name":"_thankYouMessage","type":"string"}],"name":"createCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"},{"name":"_cont","type":"address"}],"name":"claimRefund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getContributions","outputs":[{"name":"contribution","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getCampaignDetails","outputs":[{"name":"campaignID","type":"uint256"},{"name":"name","type":"string"},{"name":"description","type":"string"},{"name":"image","type":"string"},{"name":"goal","type":"uint256"},{"name":"totalAmountFunded","type":"uint256"},{"name":"deadline","type":"uint256"},{"name":"cOwner","type":"address"},{"name":"contributors","type":"uint256"},{"name":"thankYouMessage","type":"string"},{"name":"isCampaignOpen","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_spender","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Approval","type":"event"}];
            //[{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"succees","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getTotalCampaigns","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"balances","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"allowed","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"},{"name":"_cont","type":"address"}],"name":"withdrawFunds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"fundCampaign","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"closeCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignTitle","type":"string"},{"name":"_campaignDescription","type":"string"},{"name":"_goalAmount","type":"uint256"},{"name":"_fundingPeriodInDays","type":"uint256"},{"name":"_campaignImage","type":"string"},{"name":"_campaignOwnerEmail","type":"string"},{"name":"_thankYouMessage","type":"string"}],"name":"createCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"},{"name":"_cont","type":"address"}],"name":"claimRefund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getContributions","outputs":[{"name":"contribution","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getCampaignDetails","outputs":[{"name":"campaignID","type":"uint256"},{"name":"name","type":"string"},{"name":"description","type":"string"},{"name":"image","type":"string"},{"name":"goal","type":"uint256"},{"name":"totalAmountFunded","type":"uint256"},{"name":"deadline","type":"uint256"},{"name":"cOwner","type":"address"},{"name":"contributors","type":"uint256"},{"name":"thankYouMessage","type":"string"},{"name":"isCampaignOpen","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_spender","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Approval","type":"event"}];
            //[{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"succees","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getTotalCampaigns","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"balances","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"allowed","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"},{"name":"_cont","type":"address"}],"name":"withdrawFunds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"fundCampaign","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"closeCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignTitle","type":"string"},{"name":"_campaignDescription","type":"string"},{"name":"_goalAmount","type":"uint256"},{"name":"_fundingPeriodInDays","type":"uint256"},{"name":"_campaignImage","type":"string"},{"name":"_campaignOwnerEmail","type":"string"},{"name":"_thankYouMessage","type":"string"}],"name":"createCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"},{"name":"_cont","type":"address"}],"name":"claimRefund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getContributions","outputs":[{"name":"contribution","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getCampaignDetails","outputs":[{"name":"campaignID","type":"uint256"},{"name":"name","type":"string"},{"name":"description","type":"string"},{"name":"image","type":"string"},{"name":"goal","type":"uint256"},{"name":"totalAmountFunded","type":"uint256"},{"name":"deadline","type":"uint256"},{"name":"cOwner","type":"address"},{"name":"contributors","type":"uint256"},{"name":"thankYouMessage","type":"string"},{"name":"isCampaignOpen","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_spender","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Approval","type":"event"}]; 
            //[{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"succees","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getTotalCampaigns","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"balances","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"allowed","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"},{"name":"_cont","type":"address"}],"name":"withdrawFunds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"fundCampaign","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"closeCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignTitle","type":"string"},{"name":"_campaignDescription","type":"string"},{"name":"_goalAmount","type":"uint256"},{"name":"_fundingPeriodInDays","type":"uint256"},{"name":"_campaignImage","type":"string"},{"name":"_campaignOwnerEmail","type":"string"},{"name":"_thankYouMessage","type":"string"}],"name":"createCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"},{"name":"_cont","type":"address"}],"name":"claimRefund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getContributions","outputs":[{"name":"contribution","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getCampaignDetails","outputs":[{"name":"campaignID","type":"uint256"},{"name":"name","type":"string"},{"name":"description","type":"string"},{"name":"image","type":"string"},{"name":"goal","type":"uint256"},{"name":"totalAmountFunded","type":"uint256"},{"name":"deadline","type":"uint256"},{"name":"cOwner","type":"address"},{"name":"contributors","type":"uint256"},{"name":"thankYouMessage","type":"string"},{"name":"isCampaignOpen","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_spender","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Approval","type":"event"}]; 
            //[{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"succees","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getTotalCampaigns","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"balances","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"claimRefund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"allowed","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"},{"name":"_cont","type":"address"}],"name":"withdrawFunds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"fundCampaign","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"closeCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignTitle","type":"string"},{"name":"_campaignDescription","type":"string"},{"name":"_goalAmount","type":"uint256"},{"name":"_fundingPeriodInDays","type":"uint256"},{"name":"_campaignImage","type":"string"},{"name":"_campaignOwnerEmail","type":"string"},{"name":"_thankYouMessage","type":"string"}],"name":"createCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getContributions","outputs":[{"name":"contribution","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getCampaignDetails","outputs":[{"name":"campaignID","type":"uint256"},{"name":"name","type":"string"},{"name":"description","type":"string"},{"name":"image","type":"string"},{"name":"goal","type":"uint256"},{"name":"totalAmountFunded","type":"uint256"},{"name":"deadline","type":"uint256"},{"name":"cOwner","type":"address"},{"name":"contributors","type":"uint256"},{"name":"thankYouMessage","type":"string"},{"name":"isCampaignOpen","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_spender","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Approval","type":"event"}];
            //[{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"succees","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getTotalCampaigns","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"balances","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"claimRefund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"allowed","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"},{"name":"_cont","type":"address"}],"name":"withdrawFunds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"fundCampaign","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"closeCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignTitle","type":"string"},{"name":"_campaignDescription","type":"string"},{"name":"_goalAmount","type":"uint256"},{"name":"_fundingPeriodInDays","type":"uint256"},{"name":"_campaignImage","type":"string"},{"name":"_campaignOwnerEmail","type":"string"},{"name":"_thankYouMessage","type":"string"}],"name":"createCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getContributions","outputs":[{"name":"contribution","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getCampaignDetails","outputs":[{"name":"campaignID","type":"uint256"},{"name":"name","type":"string"},{"name":"description","type":"string"},{"name":"image","type":"string"},{"name":"goal","type":"uint256"},{"name":"totalAmountFunded","type":"uint256"},{"name":"deadline","type":"uint256"},{"name":"cOwner","type":"address"},{"name":"contributors","type":"uint256"},{"name":"thankYouMessage","type":"string"},{"name":"isCampaignOpen","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_spender","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Approval","type":"event"}];
            //[{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"succees","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"withdrawFunds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getTotalCampaigns","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"balances","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"claimRefund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"allowed","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"fundCampaign","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"closeCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignTitle","type":"string"},{"name":"_campaignDescription","type":"string"},{"name":"_goalAmount","type":"uint256"},{"name":"_fundingPeriodInDays","type":"uint256"},{"name":"_campaignImage","type":"string"},{"name":"_campaignOwnerEmail","type":"string"},{"name":"_thankYouMessage","type":"string"}],"name":"createCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getContributions","outputs":[{"name":"contribution","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getCampaignDetails","outputs":[{"name":"campaignID","type":"uint256"},{"name":"name","type":"string"},{"name":"description","type":"string"},{"name":"image","type":"string"},{"name":"goal","type":"uint256"},{"name":"totalAmountFunded","type":"uint256"},{"name":"deadline","type":"uint256"},{"name":"cOwner","type":"address"},{"name":"contributors","type":"uint256"},{"name":"thankYouMessage","type":"string"},{"name":"isCampaignOpen","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_spender","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Approval","type":"event"}];//[{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"withdrawFunds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getTotalCampaigns","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"claimRefund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"fundCampaign","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"closeCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignTitle","type":"string"},{"name":"_campaignDescription","type":"string"},{"name":"_goalAmount","type":"uint256"},{"name":"_fundingPeriodInDays","type":"uint256"},{"name":"_campaignImage","type":"string"},{"name":"_campaignOwnerEmail","type":"string"},{"name":"_thankYouMessage","type":"string"}],"name":"createCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getContributions","outputs":[{"name":"contribution","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getCampaignDetails","outputs":[{"name":"campaignID","type":"uint256"},{"name":"name","type":"string"},{"name":"description","type":"string"},{"name":"image","type":"string"},{"name":"goal","type":"uint256"},{"name":"totalAmountFunded","type":"uint256"},{"name":"deadline","type":"uint256"},{"name":"cOwner","type":"address"},{"name":"contributors","type":"uint256"},{"name":"thankYouMessage","type":"string"},{"name":"isCampaignOpen","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"}];//[{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"withdrawFunds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getTotalCampaigns","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"claimRefund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"fundCampaign","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"closeCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignTitle","type":"string"},{"name":"_campaignDescription","type":"string"},{"name":"_goalAmount","type":"uint256"},{"name":"_fundingPeriodInDays","type":"uint256"},{"name":"_campaignImage","type":"string"},{"name":"_campaignOwnerEmail","type":"string"},{"name":"_thankYouMessage","type":"string"}],"name":"createCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getContributions","outputs":[{"name":"contribution","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getCampaignDetails","outputs":[{"name":"campaignID","type":"uint256"},{"name":"name","type":"string"},{"name":"description","type":"string"},{"name":"image","type":"string"},{"name":"goal","type":"uint256"},{"name":"totalAmountFunded","type":"uint256"},{"name":"deadline","type":"uint256"},{"name":"cOwner","type":"address"},{"name":"contributors","type":"uint256"},{"name":"thankYouMessage","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"}]; //[{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"withdrawFunds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getTotalCampaigns","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"claimRefund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"fundCampaign","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"closeCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignTitle","type":"string"},{"name":"_campaignDescription","type":"string"},{"name":"_goalAmount","type":"uint256"},{"name":"_fundingPeriodInDays","type":"uint256"},{"name":"_campaignImage","type":"string"},{"name":"_campaignOwnerEmail","type":"string"},{"name":"_thankYouMessage","type":"string"}],"name":"createCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getContributions","outputs":[{"name":"contribution","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getCampaignDetails","outputs":[{"name":"campaignID","type":"uint256"},{"name":"name","type":"string"},{"name":"description","type":"string"},{"name":"image","type":"string"},{"name":"goal","type":"uint256"},{"name":"totalAmountFunded","type":"uint256"},{"name":"deadline","type":"uint256"},{"name":"cOwner","type":"address"},{"name":"contributors","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"}]; //[{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"withdrawFunds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getTotalCampaigns","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"claimRefund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"fundCampaign","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"closeCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignTitle","type":"string"},{"name":"_campaignDescription","type":"string"},{"name":"_goalAmount","type":"uint256"},{"name":"_fundingPeriodInDays","type":"uint256"},{"name":"_campaignImage","type":"string"},{"name":"_campaignOwnerEmail","type":"string"},{"name":"_thankYouMessage","type":"string"}],"name":"createCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getContributions","outputs":[{"name":"contribution","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getCampaignDetails","outputs":[{"name":"campaignID","type":"uint256"},{"name":"name","type":"string"},{"name":"description","type":"string"},{"name":"image","type":"string"},{"name":"goal","type":"uint256"},{"name":"totalAmountFunded","type":"uint256"},{"name":"deadline","type":"uint256"},{"name":"cOwner","type":"address"},{"name":"contributors","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"}];
            //[{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"withdrawFunds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getTotalCampaigns","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"claimRefund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"fundCampaign","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"closeCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getContributions","outputs":[{"name":"contribution","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignTitle","type":"string"},{"name":"_campaignDescription","type":"string"},{"name":"_goalAmount","type":"uint256"},{"name":"_fundingPeriodInDays","type":"uint256"},{"name":"_campaignImage","type":"string"}],"name":"createCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getCampaignDetails","outputs":[{"name":"campaignID","type":"uint256"},{"name":"name","type":"string"},{"name":"description","type":"string"},{"name":"image","type":"string"},{"name":"goal","type":"uint256"},{"name":"totalAmountFunded","type":"uint256"},{"name":"deadline","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"}];
             //[{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"withdrawFunds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getTotalCampaigns","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"claimRefund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"fundCampaign","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignTitle","type":"string"},{"name":"_campaignDescription","type":"string"},{"name":"_goalAmount","type":"uint256"},{"name":"_fundingPeriodInDays","type":"uint256"}],"name":"createCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"closeCampaign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getContributions","outputs":[{"name":"contribution","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_campaignID","type":"uint256"}],"name":"getCampaignDetails","outputs":[{"name":"campaignID","type":"uint256"},{"name":"name","type":"string"},{"name":"description","type":"string"},{"name":"goal","type":"uint256"},{"name":"totalAmountFunded","type":"uint256"},{"name":"deadline","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"}];

            //set contract address
            var contractAddress =    '0x4B836DF1cEE624E8062E53803Bbb8322dDEeaA1F'; //'0x69cdD9b8108b76482E28e6b82A6aa6fEf10DF538'; //'0x179E5614ba0e8e101c7325dCde23792c41dF79ac';//'0x7DE872F8940Ee2dE1E4e8e0c4f45cEc8a7703C92';//'0xE8fb1dEe72dB3C3E1810e5fCA95c80Fca186B7aD';//'0xFB80d60257f41f176EA68be348A8bC056bA9E743';  //'0xd81364e985Ff2848Ddb835Ba7528602754258071';//'0xfE9724EC2Dc0A27dc4A0C5ADE4aaa5E74A4A38c4'; //'0x0d33fA05f13f40DD8062E7d88af294801eCcfc43'; 

            return await new window.web3.eth.Contract(abi,contractAddress);
        }

        async function getConcludedCampaigns() {
            
            const t = await window.contract.methods.getTotalCampaigns().call()+1;
            
            for (i = 1;i < t;i++){
                var result = await window.contract.methods.getContributions(i).call();
                if (result == 3963877391197344453575983046348115674221700746820753546331534351508065746944) {
                    
                }else{
                    var result = await window.contract.methods.getCampaignDetails(i).call();
                    
                    
                   if (result[10] == false) {
                    const unixTimestamp = result[6];

                    const milliseconds = result[6] * 1000 

                    const dateObject = new Date(milliseconds)

                    const humanDateFormat = dateObject.toLocaleString() 

                    dateObject.toLocaleString("en-US", {weekday: "long"}) 
                    dateObject.toLocaleString("en-US", {month: "long"}) 
                    dateObject.toLocaleString("en-US", {day: "numeric"}) 
                    dateObject.toLocaleString("en-US", {year: "numeric"}) 
                    dateObject.toLocaleString("en-US", {hour: "numeric"}) 
                    dateObject.toLocaleString("en-US", {minute: "numeric"}) 
                    dateObject.toLocaleString("en-US", {second: "numeric"}) 
                    dateObject.toLocaleString("en-US", {timeZoneName: "short"}) 
                    var mtime = dateObject.toLocaleString("en-US", {timeZoneName: "short"});
// Calculate time between two dates
                        var mytime = updateDate(mtime);
                    concluded_campaigns.innerHTML = concluded_campaigns.innerHTML+'<div class="class="col-3 p-3" style="width: 320px; margin-right: 20px;"><div class="card">'+
                            '<div class="card-body campaign-card">'+
                              
                                '<div class="img-container">'+
                                    '<img src="'+result[3]+'" id="campaignimage" alt="'+result[3]+'" width="300px" height="280px">'+
                                '</div>'+
                               
                                '<div class="sub-card mx-3 my-3">'+
                                    '<p class="card-title fs-6 h5"'+
                                       ' >'+result[1]+'</p>'+
                                    '<p class="lh-1 fs-6 small" style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;">'+result[2]+
                                        
                                    '</p><br>'+
                                    
                                    '<div class="progress my-1">'+
                                        '<div class="progress-bar progress-bar-striped bg-success progress-bar-animated" role="progressbar" aria-valuenow="'+result[5]*100/result[4]+'" aria-valuemin="0" aria-valuemax="100" style="width:' +(result[5]*100)/result[4]+'%">'+(result[5]*100)/result[4]+'%</div>'+
                                    '</div>'+
                                    '<p class="progress-info small">Deadline: '+mytime+'</p>'+

                                    
                                    '<div class="d-grid gap-2 d-md-flex justify-content-md-end">'+
                                        '<button class="btn btn-warning" type="button"><a href="campaign_details.html?id='+result[0]+'" style="text-design: none;">More Info</a></button>'+
                                    '</div>'+
                                '</div>'+
                            '</div>'+
                        '</div>'+
                    '</div></div><br>';
                   }
                }
                
            }
           
        }

        async function getActiveCampaigns() {
            
            const t = await window.contract.methods.getTotalCampaigns().call()+1;
            
            for (i = 1;i < t;i++){
                var result = await window.contract.methods.getContributions(i).call();
                if (result == 3963877391197344453575983046348115674221700746820753546331534351508065746944) {
                    
                }else{
                    var result = await window.contract.methods.getCampaignDetails(i).call();
                   
                    
                   if (result[10] == true) {
                    const unixTimestamp = result[6];

                    const milliseconds = result[6] * 1000 

                    const dateObject = new Date(milliseconds)

                    const humanDateFormat = dateObject.toLocaleString() 

                    dateObject.toLocaleString("en-US", {weekday: "long"}) 
                    dateObject.toLocaleString("en-US", {month: "long"}) 
                    dateObject.toLocaleString("en-US", {day: "numeric"}) 
                    dateObject.toLocaleString("en-US", {year: "numeric"}) 
                    dateObject.toLocaleString("en-US", {hour: "numeric"}) 
                    dateObject.toLocaleString("en-US", {minute: "numeric"})
                    dateObject.toLocaleString("en-US", {second: "numeric"}) 
                    dateObject.toLocaleString("en-US", {timeZoneName: "short"}) 
                    var mtime = dateObject.toLocaleString("en-US", {timeZoneName: "short"});
// Calculate time between two dates
                        var mytime = updateDate(mtime);
                    active_campaigns.innerHTML = active_campaigns.innerHTML+'<div class="class="col-3 p-3" style="width: 320px; margin-right: 20px;"><div class="card">'+
                            '<div class="card-body campaign-card">'+
                              
                                '<div class="img-container">'+
                                    '<img src="'+result[3]+'" id="campaignimage" alt="'+result[3]+'" width="300px" height="280px">'+
                                '</div>'+
                               
                                '<div class="sub-card mx-3 my-3">'+
                                    '<p class="card-title fs-6 h5"'+
                                       ' >'+result[1]+'</p>'+
                                    '<p class="lh-1 fs-6 small" style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;">'+result[2]+
                                        
                                    '</p><br>'+
                                    
                                    '<div class="progress my-1">'+
                                        '<div class="progress-bar progress-bar-striped bg-success progress-bar-animated" role="progressbar" aria-valuenow="'+result[5]*100/result[4]+'" aria-valuemin="0" aria-valuemax="100" style="width:' +(result[5]*100)/result[4]+'%">'+(result[5]*100)/result[4]+'%</div>'+
                                    '</div>'+
                                    '<p class="progress-info small">Deadline: '+mytime+'</p>'+

                                    
                                    '<div class="d-grid gap-2 d-md-flex justify-content-md-end">'+
                                        '<button class="btn btn-warning" type="button"><a href="campaign_details.html?id='+result[0]+'" style="text-design: none;">More Info</a></button>'+
                                    '</div>'+
                                '</div>'+
                            '</div>'+
                        '</div>'+
                    '</div></div><br>';
                   }
                }
                
            }
           
        }

        function updateDate(datetime) {
    var theevent = new Date(datetime);
    now = new Date();
    var sec_num = (theevent - now) / 1000;
    var days    = Math.floor(sec_num / (3600 * 24));
    var hours   = Math.floor((sec_num - (days * (3600 * 24)))/3600);
    var minutes = Math.floor((sec_num - (days * (3600 * 24)) - (hours * 3600)) / 60);
    var seconds = Math.floor(sec_num - (days * (3600 * 24)) - (hours * 3600) - (minutes * 60));

    if (hours   < 10) {hours   = "0"+hours;}
    if (minutes < 10) {minutes = "0"+minutes;}
    if (seconds < 10) {seconds = "0"+seconds;}

    return  days+'days: '+ hours+'hours: '+minutes+' minutes: '+seconds+'seconds';
}

        async function getCampaignDetails(campaignID){
            var i = campaingID;
            var result = await window.contract.methods.getCampaignDetails(i).call();
                    //a.innerHTML = a.innerHTML+"<h5>" + "CampaingID: "+i + "Amount Contributed: "+result[0] + result[1] + result[2] + result[3] + result[4] + result[5];
                    active_campaigns.innerHTML = active_campaigns.innerHTML+'<div class="card">'+
                            '<div class="card-body campaign-card">'+
                              
                                '<div class="img-container">'+
                                    '<img src="https://www.vibe.com/wp-content/uploads/2017/11/Go-fund-me-broke-ex-boyfriend-1510608959.png" id="campaignimage" alt="campaign image" width="auto" height="280px">'+
                                '</div>'+
                               
                                '<div class="sub-card mx-3 my-3">'+
                                    '<p class="card-title fs-6 h5">'+result[1]+'</p>'+
                                    '<p class="lh-1 fs-6 small">'+
                                        'Lorem Ipsum has been the industrys standard dummy text ever since the 1500s,' +
                                        'when an unknown printer took a galley of type and scrambled it to make a type' +
                                        'specimen book.'+
                                    '</p><br>'+
                                    
                                    '<div class="progress my-1">'+
                                        '<div class="progress-bar progress-bar-striped bg-success progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 75%">75%</div>'+
                                    '</div>'+
                                    '<p class="progress-info small">30 days remaining</p>'+

                                    
                                    '<div class="d-grid gap-2 d-md-flex justify-content-md-end">'+
                                        '<button class="btn btn-warning" type="button">More Info</button>'+
                                    '</div>'+
                                '</div>'+
                            '</div>'+
                        '</div>'+
                    '</div><br>';
                    
        }


        async function getTotalCampaigns(){
            var result = await window.contract.methods.getTotalCampaigns().call();
            campaigns_count.innerHTML = campaigns_count.innerHTML+result;
            //updateStatus('gotten');
        }

        //async function getCont(){
          //  var i = 1;
            //var result = await window.contract.methods.getContributions(i).call();
              //  if (result == 3963877391197344453575983046348115674221700746820753546331534351508065746944) {
               //     a.innerHTML = a.innerHTML+"<h5>CampaignID "+i +"does not exist</h5>";
               // }else{
                 //   a.innerHTML = a.innerHTML+"<h5>" + "CampaingID: "+i + "Amount Contributed: "+result;
               // }
                //updateStatus('Done');
        //}

        async function formatDate(unixtimestamp){
                var theDate = new Date(unixtimestamp * 1000);
                    dateString = theDate.toGMTString();
                    //return dateString;
                    alert(dateString );
        }

        async function getCurrentAccount() {
            const accounts = await window.web3.eth.getAccounts();
            return accounts[0];
        }

        //async function getCampaignDetails(){
          //  var i = document.getElementById("fund").value;
            //var result = await window.contract.methods.getCampaignDetails(i).call();
              //      a.innerHTML = a.innerHTML+"<h5>" + "CampaingID: "+i + "Amount Contributed: "+result[0] + result[1] + result[2] + result[3] + result[4] + result[5];
                //    formatDate(result[5]);
                //updateStatus('Done');
        //}

        //async function createCampaign() {
          //  updateStatus(`Createting campaign ...`);
            //const account = await getCurrentAccount();
            //const coolNumber = await window.contract.methods.createCampaign(document.getElementById("name").value,document.getElementById("description").value,document.getElementById("goal").value,document.getElementById("deadline").value).send({ from: account });
            //updateStatus('Created.');
        //}

       // async function fundCampaign(){
         //   updateStatus(`Funding campaign ...`);
           // const account = await getCurrentAccount();
            //const coolNumber = await window.contract.methods.fundCampaign(document.getElementById("fund").value).send({ from: account, gas: 3000000, value: 100 });
            //updateStatus('Created.');
        //}

        async function load() {
            await loadWeb3();
            window.contract = await loadContract();
            getTotalCampaigns();
            //getConcludedCampaigns();
            getActiveCampaigns();
            //alert('Ready!');
        }

        

        load();